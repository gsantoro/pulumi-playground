# https://taskfile.dev

version: '3'

tasks:
  init:
    dir: '{{.USER_WORKING_DIR}}'
    cmds:
      - pulumi new aws-python --force
      - pulumi config set aws:project {{.PROJECT_ID}}
      - pulumi config set aws:region us-west-2
      # https://blog.bringhurst.org/packaging-pulumi-with-poetry

  bucket:list:
    dir: '{{.WORKING_DIR}}'
    cmds:
      - aws ls $(pulumi stack output bucket_name)